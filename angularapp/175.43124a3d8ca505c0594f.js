(self.webpackChunkarias_jose_segundo_parcial=self.webpackChunkarias_jose_segundo_parcial||[]).push([[175],{3175:(i,t,e)=>{"use strict";e.r(t),e.d(t,{AlumnoModule:()=>T});var a=e(1116),r=e(63),s=e(7368);let n=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-alumno-home"]],decls:25,vars:0,consts:[[1,"album","py-5","bg-light"],[1,"container"],[1,"row"],[1,"col-md-4"],[1,"jumbotron","text-center"],[1,"card","mb-4","shadow-sm"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button","routerLink","/alumno/isncribirMateria",1,"btn","btn-sm","btn-outline-secondary"],["type","button","routerLink","/alumno/misMaterias",1,"btn","btn-sm","btn-outline-secondary"]],template:function(i,t){1&i&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h1",4),s._uU(5,"Inscripciones"),s.qZA(),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"p",7),s._uU(9,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),s.qZA(),s.TgZ(10,"div",8),s.TgZ(11,"div",9),s.TgZ(12,"button",10),s._uU(13,"Ir a inscripciones"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",3),s.TgZ(15,"h1",4),s._uU(16,"Mis materias"),s.qZA(),s.TgZ(17,"div",5),s.TgZ(18,"div",6),s.TgZ(19,"p",7),s._uU(20,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),s.qZA(),s.TgZ(21,"div",8),s.TgZ(22,"div",9),s.TgZ(23,"button",11),s._uU(24,"Ir a mis materias"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},directives:[r.rH],styles:[""]}),i})();var o=e(6304),c=e(2501),u=e.n(c),l=e(9575),p=e(2590),m=e(2492);let d=(()=>{class i{constructor(i){this.el=i,console.log(this.appResaltar)}ngOnInit(){this.cambiarColor(this.appResaltar)}cambiarColor(i){10==i?this.el.nativeElement.style.backgroundColor="red":i>=20&&(this.el.nativeElement.style.backgroundColor="yellow")}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(s.SBq))},i.\u0275dir=s.lG2({type:i,selectors:[["","appResaltar",""]],inputs:{appResaltar:"appResaltar"}}),i})();function Z(i,t){if(1&i){const i=s.EpF();s.TgZ(0,"div",4),s.TgZ(1,"div",5),s.TgZ(2,"div",6),s.TgZ(3,"h4",7),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",8),s.TgZ(6,"h2",9),s._uU(7),s._UZ(8,"small",10),s.qZA(),s.TgZ(9,"ul",11),s.TgZ(10,"li",12),s._uU(11),s.qZA(),s.TgZ(12,"li"),s._uU(13),s.qZA(),s.qZA(),s.TgZ(14,"button",13),s.NdJ("click",function(){const t=s.CHM(i).$implicit;return s.oxw(2).materiaSeleccionada(t)}),s._uU(15,"Seleccionar"),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&i){const i=t.$implicit;s.xp6(4),s.Oqu(i.nombre),s.xp6(3),s.Oqu(i.profesor),s.xp6(3),s.Q6J("appResaltar",i.cupo),s.xp6(1),s.hij("Cupos: ",i.cupo,""),s.xp6(2),s.hij("Cuatrimestre: ",i.cuatrimestre,"")}}function h(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,Z,16,5,"div",3),s.qZA()),2&i){const i=s.oxw();s.xp6(1),s.Q6J("ngForOf",i.arrayMaterias)}}function g(i,t){if(1&i&&(s.TgZ(0,"div",4),s.TgZ(1,"div",5),s.TgZ(2,"div",6),s.TgZ(3,"h4",7),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"div",8),s.TgZ(6,"h2",9),s._uU(7),s._UZ(8,"small",10),s.qZA(),s.TgZ(9,"ul",11),s.TgZ(10,"li",12),s._uU(11),s.qZA(),s.TgZ(12,"li"),s._uU(13),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&i){const i=t.$implicit;s.xp6(4),s.Oqu(i.nombre),s.xp6(3),s.Oqu(i.profesor),s.xp6(3),s.Q6J("appResaltar",i.cupo),s.xp6(1),s.hij("Cupos: ",i.cupo,""),s.xp6(2),s.hij("Cuatrimestre: ",i.cuatrimestre,"")}}function v(i,t){if(1&i&&(s.TgZ(0,"div",2),s.YNc(1,g,14,5,"div",3),s.qZA()),2&i){const i=s.oxw();s.xp6(1),s.Q6J("ngForOf",i.arrayMisMaterias)}}let b=(()=>{class i{constructor(i,t,e){this.materiaService=i,this.auth=t,this.usuarioService=e,this.enviarMateria=new s.vpe,this.arrayMaterias=[],this.arrayMisMaterias=[],this.materiaService.materias.subscribe(i=>{this.arrayMaterias=[],i.map(i=>{this.arrayMaterias.push(i)})}),this.verMisMaterias()}ngOnInit(){}materiaSeleccionada(i){this.enviarMateria.emit(i)}verMisMaterias(){var i=this;return(0,o.Z)(function*(){var t=yield i.auth.getCurrentUser(),e=yield i.usuarioService.getByEmail(null==t?void 0:t.email);i.usuarioService.usuarios.subscribe(t=>{t.map(t=>{if(t.email==e.email)for(var a of i.arrayMaterias)a.inscriptos.includes(t.id)&&i.arrayMisMaterias.push(a)})})})()}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(m.C),s.Y36(p.e),s.Y36(l.J))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-alumno-listar-materia"]],inputs:{verMaterias:"verMaterias",verMisMateriasLista:"verMisMateriasLista"},outputs:{enviarMateria:"enviarMateria"},decls:4,vars:2,consts:[[1,"text-center"],["class","row row-cols-1 row-cols-md-3 mb-3 text-center",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-3","mb-3","text-center"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","mb-4","rounded-3","shadow-sm","border-primary"],[1,"card-header","py-3","text-white","bg-primary","border-primary"],[1,"my-0","fw-normal"],[1,"card-body"],[1,"card-title","pricing-card-title"],[1,"text-muted","fw-light"],[1,"list-unstyled","mt-3","mb-4"],[3,"appResaltar"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(i,t){1&i&&(s.TgZ(0,"h1",0),s._uU(1,"Lista de materias"),s.qZA(),s.YNc(2,h,2,1,"div",1),s.YNc(3,v,2,1,"div",1)),2&i&&(s.xp6(2),s.Q6J("ngIf",null!=t.arrayMaterias&&t.verMaterias),s.xp6(1),s.Q6J("ngIf",null!=t.arrayMisMaterias&&t.verMisMateriasLista))},directives:[a.O5,a.sg,d],styles:[""]}),i})();const f=[{path:"alumnoHome",component:n},{path:"isncribirMateria",component:(()=>{class i{constructor(i,t,e){this.usuarioService=i,this.auth=t,this.materiaServicio=e,this.checkearUsuario()}ngOnInit(){}procesarMateria(i){this.materia=i}checkearUsuario(){var i=this;return(0,o.Z)(function*(){var t=yield i.auth.getCurrentUser(),e=yield i.usuarioService.getByEmail(null==t?void 0:t.email);e.email==(null==t?void 0:t.email)&&(i.alumno=e)})()}iniciaInscripcion(){u().fire({title:"Esta seguro de inscribir a "+this.alumno.email+" en la materia "+this.materia.nombre,showDenyButton:!0,showCancelButton:!1,confirmButtonText:"Aceptar",denyButtonText:"Cancelar"}).then(i=>{if(i.isConfirmed)switch(this.inscribir()){case 0:u().fire({icon:"error",title:"Oops...",text:"Hay un error en el sistema!"});break;case 1:u().fire("Inscrpci\xf3n exitosa!","","success");break;case 2:u().fire({icon:"info",title:"Oops...",text:"Alumno ya esta inscrito en esta materia!"});break;case 3:u().fire({icon:"info",title:"Oops...",text:"No hay cupos disponibles para esta materia!"})}else i.isDenied&&u().fire("Se ha cancelado la inscripci\xf3n","","info")})}inscribir(){var i=0;return this.materia.cupo>0?null!=this.materia.inscriptos?0==this.materia.inscriptos.includes(this.alumno.id)?(this.materia.inscriptos.push(this.alumno.id),this.materia.cupo--,this.materiaServicio.update(this.materia.id,this.materia),i=1):i=2:(this.materia.inscriptos=[],this.materia.inscriptos.push(this.alumno.id),this.materia.cupo--,this.materiaServicio.update(this.materia.id,this.materia),i=1):i=3,i}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(l.J),s.Y36(p.e),s.Y36(m.C))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-alumno-inscribir-materia"]],decls:9,vars:1,consts:[[1,"jumbotron","text-center"],[1,"lead","text-muted"],[1,"btn","btn-primary","my-2",3,"click"],[3,"verMaterias","enviarMateria"]],template:function(i,t){1&i&&(s.TgZ(0,"section",0),s.TgZ(1,"h1"),s._uU(2,"\xbfComo hacer una inscripci\xf3n?"),s.qZA(),s.TgZ(3,"p",1),s._uU(4,"Debe seleccionar una materia y luego click en inscribir alumno para hacer la inscripci\xf3n."),s.qZA(),s.TgZ(5,"p"),s.TgZ(6,"a",2),s.NdJ("click",function(){return t.iniciaInscripcion()}),s._uU(7,"Inscribir Alumno"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"app-alumno-listar-materia",3),s.NdJ("enviarMateria",function(i){return t.procesarMateria(i)}),s.qZA()),2&i&&(s.xp6(8),s.Q6J("verMaterias",!0))},directives:[b],styles:[""]}),i})()},{path:"misMaterias",component:(()=>{class i{constructor(i,t){this.usuarioService=i,this.auth=t,this.verTodas=!1}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(s.Y36(l.J),s.Y36(p.e))},i.\u0275cmp=s.Xpm({type:i,selectors:[["app-alumno-mis-materias"]],decls:1,vars:1,consts:[[3,"verMisMateriasLista"]],template:function(i,t){1&i&&s._UZ(0,"app-alumno-listar-materia",0),2&i&&s.Q6J("verMisMateriasLista",!0)},directives:[b],styles:[""]}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[r.Bz.forChild(f)],r.Bz]}),i})(),T=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=s.oAB({type:i}),i.\u0275inj=s.cJS({imports:[[a.ez,y]]}),i})()}}]);